{% extends 'base.html' %}
{% block title %} Library | Payment {% endblock %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">

{% block content %}
<!-- <center>
    <br />
    <h1 class="display-5 fw-bold">Your History</h1>
    <br />
</center> -->


<!-- Title Section -->
<div class="container mt-4">
    <div class="col-md-12">
        <div class="library-title">
            <span class="word">Make</span>
            <span class="word">Your</span>      
            <span class="word">Payment</span>      
        </div>
    </div>
</div>
<hr>

<div class="container">
    <div class="row">
        <h3>Total Amount:{{cause.goal}}</h3>
        <br><br><br>
        {% if error %}
         <h1> {{error}}</h1>
        
        {% endif %}
        <br><br><br><br>        <br>

        <button id="rzp-button1">Pay with Razorpay</button>
        <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
        <script>
        var options = {
            "key": "rzp_test_wH0ggQnd7iT3nB", // Enter the Key ID generated from the Dashboard
            "amount": "{{cause.goal}}", // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
            "currency": "INR",
            "name": "Acme Corp",
            "description": "Test Transaction",
            "image": "https://example.com/your_logo",
            // "order_id": "order_IluGWxBm9U8zJ8", //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
            "handler": function (response){
                alert("âœ… Payment successful!");

            },
            "prefill": {
                "name": "Gaurav Kumar",
                "email": "gaurav.kumar@example.com",
                "contact": "9000090000"
            },
            "notes": {
                "address": "Razorpay Corporate Office"
            },
            "theme": {
                "color": "#3399cc"
            }
        };
        var rzp1 = new Razorpay(options);
        rzp1.on('payment.failed', function (response){
                alert(response.error.code);
                alert(response.error.description);
                alert(response.error.source);
                alert(response.error.step);
                alert(response.error.reason);
                alert(response.error.metadata.order_id);
                alert(response.error.metadata.payment_id);
        });
        document.getElementById('rzp-button1').onclick = function(e){
            rzp1.open();
            e.preventDefault();
        }
        </script>

    </div>
</div>


{% block extra_css %}
<style>
    table {
        border-collapse: collapse;
        border-spacing: 0;
        border-radius: 10px;
        width: 100%;
        border: 1px solid #ddd;
    }

    th, td {
        text-align: left;
        padding: 16px;
    }

    tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    tr:nth-child(odd) {
        background-color: #ffffff;
    }

    .container {
        width: 100%;
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto;
    }

    .input-group {
        width: 100%;
        margin-bottom: 1rem;
    }

</style>
{% endblock %}
{% endblock %}




